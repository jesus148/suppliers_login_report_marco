

<!-- COMPONENTE TABLA  -->

<div class="contenedor grid justify-content-center ">

<div class="col-11 md:col-11 relative mt-1" >

    <p-menubar class="" [model]="items" styleClass="menubar">

        <ng-template  pTemplate="start" class="" styleClass="menubar2">
          <div class="hidden md:flex md:mb-2 md:gap-3 md:justify-content-end ">
            <img src="assets/images/LogoMp2.png" height="38" class="mr-2">

              <p-button
                  (onClick)="activeIndex = 0"
                  styleClass="w-7rem h-3rem text-sm"
                  (onClick)="btnRegistrarBanco = false"
                  (onClick)="btnRetenciones = false"
                  (onClick)="btnDeducciones = false"
                  (onClick)="btnPagosEfectuados=false"
                  [outlined]="activeIndex !== 0"
                  label="Estado Cuenta"
                   severity="success"
                 />

              <p-button
                  (onClick)="activeIndex = 2"
                  (onClick)="btnRegistrarBanco = false"
                  (onClick)="btnRetenciones = true"
                  (onClick)="btnDeducciones = false"
                  styleClass="w-7rem h-3rem text-sm "
                  [outlined]="activeIndex !== 2"
                  label="Detracciones"
                  severity="success" />

              <p-button
                  (onClick)="activeIndex = 3"
                  (onClick)="btnRegistrarBanco = false"
                  (onClick)="btnRetenciones = false"
                  (onClick)="btnDeducciones = true"
                  styleClass="w-7rem h-3rem text-sm"
                  [outlined]="activeIndex !== 3"
                  label="Retenciones"
                  severity="success" />



                  <p-button
                  (onClick)="activeIndex = 4"
                  (onClick)="btnRegistrarBanco = false"
                  (onClick)="btnRetenciones = false"
                  (onClick)="btnDeducciones = false"
                  (onClick)="btnPagosEfectuados = true"
                  styleClass="w-7rem h-3rem text-sm"
                  [outlined]="activeIndex !== 4"
                  label="Pagos Efectuados"
                  severity="success" />

                  <p-button
                  (onClick)="activeIndex = 1"
                  (onClick)="btnRegistrarBanco = true"
                  (onClick)="btnRetenciones = false"
                  (onClick)="btnDeducciones = false"
                  (onClick)="btnPagosEfectuados = false"
                  styleClass=" w-8rem h-3rem  text-sm p-2"
                  [outlined]="activeIndex !== 1"
                  label="Cuentas de Banco"
                  severity="primary"
                  icon="pi pi-user-edit" />
          </div>
          <div class="flex mb-2 gap-3 justify-content-end  md:hidden">
            <img src="assets/images/LogoMp2.png" height="38" class="mr-2">
          </div>
        </ng-template>
  </p-menubar>


    <div class="ml-3 md:ml-2">
        <h4>Proveedor {{usuario}}</h4>
    </div>



    <!-- tabla  -->

  <div class="contenedor_2 grid justify-content-center align-content-center  h-auto ">
    <div class="col-11 md:col-12">
      <!-- elemento flexible  es para encabezado para el header -->
      <p-card #menu2 styleClass="menu2"
  class="h-7rem" >

  <div class="flex flex-row-reverse  md:h-6rem mb-0 justify-content-between h-4rem" style="margin-bottom: -30px; "  [ngClass]="{
    'md:h-4rem cuentasBanco':activeIndex===1
  }">
    <div  [ngClass]="{
      'md:w-5 retenciones_1 ':activeIndex===2
    }">

      @if(btnRegistrarBanco){
      <p-button label="Registrar Banco" severity="primary" (onClick)="mostrarModal()" class="title"
      styleClass="text-sm w-9 md:w-11 md:text-base h-4rem md:h-3rem border-round-3xl md:border-round-xl" />
      }@else if(btnRetenciones){
        <div class="grid">
          <div class="md:col-9">
            <div class="grid">
              <div class="md:col-6 m-1 md:m-auto">
                <label for="desde" class="font-bold block mb-2"> Desde: </label>
                <p-calendar placeholder="MM/dd/YYYY" [iconDisplay]="'input'" [showIcon]="true"
                  [(ngModel)]="desde"   inputId="desde" [maxDate]="maxDate" />
              </div>
              <div class="md:col-6 m-1 md:m-auto">
                <label for="hasta" class="font-bold block mb-2"> Hasta: </label>
                <p-calendar placeholder="MM/dd/YYYY" [iconDisplay]="'input'" [showIcon]="true"
                    inputId="hasta" [(ngModel)]="hasta" [maxDate]="maxDate"/>
              </div>
              <div  class="col-12 md:hidden text-align retenciones__factura flex ">
                 <div class="retenciones__icono" [ngClass]="{
                  'block  md:hidden ':activeIndex===2
                }">
                  <p-button icon="pi pi-search"  severity="success"    />
                 </div>
              </div>
            </div>
          </div>
          <div class="md:col-3 pt-5 " [ngClass]="{
            'hidden overflow-hidden md:block ':activeIndex===2
          }">
          <div class="flex justify-content-center align-content-center gap-1">

              <p-button icon="pi pi-search"  severity="success"  [ngClass]="{
                'hidden overflow-hidden md:block ':activeIndex===2
              }" (click)="search()"/>
                                  <p-button  severity="danger"
                                   icon="pi pi-eraser"
                                   (click)="getDataDeductions()"
                                   [ngClass]="{
                                    'hidden overflow-hidden md:block ':activeIndex===2
                                  }" [disabled]="btnActive"/>
          </div>
          </div>
        </div>
      }@else if(btnDeducciones){
        <div class="grid">
          <div class="md:col-9">
            <div class="grid">
              <div class="md:col-6 m-1 md:m-auto">
                <label for="desde" class="font-bold block mb-2"> Desde: </label>
                <p-calendar placeholder="MM/dd/YYYY" [iconDisplay]="'input'" [showIcon]="true"
                  [(ngModel)]="desde"   inputId="desde" [maxDate]="maxDate" />
              </div>
              <div class="md:col-6 m-1 md:m-auto">
                <label for="hasta" class="font-bold block mb-2"> Hasta: </label>
                <p-calendar placeholder="MM/dd/YYYY" [iconDisplay]="'input'" [showIcon]="true"
                    inputId="hasta" [(ngModel)]="hasta" [maxDate]="maxDate"/>
              </div>
              <div  class="col-12 md:hidden text-align retenciones__factura flex ">
                 <div class="retenciones__icono" [ngClass]="{
                  'block  md:hidden ':activeIndex===2
                }">
                  <p-button icon="pi pi-search"  severity="success"    />
                 </div>
              </div>
            </div>
          </div>
          <div class="md:col-3 pt-5 " [ngClass]="{
            'hidden overflow-hidden md:block ':activeIndex===2
          }">
          <div class="flex justify-content-center align-content-center gap-1">

              <p-button icon="pi pi-search"  severity="success"  [ngClass]="{
                'hidden overflow-hidden md:block ':activeIndex===2
              }" (click)="search()"/>
                                  <p-button  severity="danger"
                                   icon="pi pi-eraser"
                                   (click)="getDataDeductions()"
                                   [ngClass]="{
                                    'hidden overflow-hidden md:block ':activeIndex===2
                                  }" [disabled]="btnActive"/>
          </div>
          </div>
        </div>
      }
    </div>
    <div class="text-left md:text-center"  [ngClass]="{
      'text-left  retenciones_2':activeIndex===3
    }" >
        @if(btnRegistrarBanco  && !btnDeducciones && !btnRetenciones && !btnPagosEfectuados){
          <h3 class="text-lg md:text-2xl">LISTA DE CUENTAS DE BANCO </h3>
        }@else if(!btnRegistrarBanco && btnDeducciones && !btnRetenciones && !btnPagosEfectuados  ){
          <h3 class="text-lg md:text-2xl md:mr-1">ESTADO DE CUENTA - RETENCIONES</h3>
        }@else if(!btnRegistrarBanco && !btnDeducciones && btnRetenciones && !btnPagosEfectuados ){
          <h3 class="text-xl md:text-2xl">ESTADO DE CUENTA - DETRACCIONES </h3>
        }@else if(!btnRegistrarBanco && !btnDeducciones && !btnRetenciones && btnPagosEfectuados){
          <h3 class="text-lg md:text-2xl">PAGOS EFECTUADOS</h3>
        }@else {
          <h3 class="text-xl  md:text-2xl">ESTADO DE CUENTA - FACTURAS POR PAGAR</h3>
        }
    </div>
  </div>

  <div class="m-0">

        <!-- tabla  -->
            <p-tabView [(activeIndex)]="activeIndex"
            >

              <!-- 1 tabla  -->
                <p-tabPanel >
                  <p-table [styleClass]="'p-datatable-sm'" [tableStyle]="{ 'min-width':'50rem' }" [value]="paginatedData1"  id="myTable"

                  >
                    <ng-template pTemplate="header"  >
                      <tr >
                          <th class="text-center">Serie_Correl</th>
                          <th class="text-center">Fecha Emision</th>
                          <th class="text-center">Fecha Vencimiento</th>
                          <!-- <th>Fecha Programacion</th> -->
                          <th class="text-center">Moneda</th>
                          <th class="text-right">Total</th>
                          <th class="text-right">Monto</th>
                          <th class="text-right">Saldo</th>
                          <!-- <th></th> -->
                      </tr>
                  </ng-template>
                                  <ng-template pTemplate="body" let-supliers>
                                <tr>
                                    <td class="text-center">{{supliers.SERIE_CORREL }}</td>
                                    <!-- lo corta el valor  -->
                                    <td class="text-center">{{ supliers.Fec_Emision.split(' ')[0] }}</td>
                                    <td class="text-center">{{ supliers.Fec_VCTO.split(' ')[0] }}</td>
                                    <!-- <td>{{ supliers.Fec_Programacion }}</td> -->
                                    <td class="text-center">{{ supliers.Moneda }}</td>

                                    <!-- mejora el decimal con 2   -->
                                    <td class="text-right"> {{  supliers.Total_Documento | number:   '1.2-2' }}</td>
                                    <td class="text-right">{{ supliers.Monto_pagado  | number:   '1.2' }}</td>
                                    <td class="flex justify-content-end">
                                      {{ supliers.Moneda === 'USD' ? '$' : 'S/.' }}
                                      {{ supliers.Saldo_pendiente | number :  '1.2'}}
                                    </td>
                                    <!-- <td class="text-center flex gap-3" >
                                      <p-button  icon="pi pi-pencil" [text]="true" [raised]="true" />
                                      <p-button  icon="pi pi-times" [text]="true" [raised]="true" />
                                  </td> -->
                                </tr>
                            </ng-template>
                  </p-table>
                  <p-paginator [rows]="rows1" [totalRecords]="totalRecords1" (onPageChange)="Paginator1($event)" class="hidden md:block">
                  </p-paginator>

                  <div class="paginator__one flex align-items-center justify-content-center  block md:hidden" >

                    <p-paginator [rows]="rows1" [totalRecords]="totalRecords1"  [showCurrentPageReport]="true" (onPageChange)="Paginator1($event)"
                        currentPageReportTemplate="" [showPageLinks]="false" [showFirstLastIcon]="false" class="paginator" ></p-paginator>
                </div>




                </p-tabPanel>

                <!-- 2 tabla  -->
                <p-tabPanel  header="" class="border-white" [closable]="false"  >
                  <p-table [styleClass]="'p-datatable-sm'" [value]="dataSuppliersBanck" >
                    <ng-template pTemplate="header"  >
                      <tr >
                          <th class="text-center">Codigo Banco</th>
                          <th class="text-center">Pais</th>
                          <th class="text-center">Cuenta </th>
                          <th class="text-center">Tipo Cuenta</th>
                          <th class="text-center">Moneda Sap</th>
                          <th class="text-center">Moneda Banco</th>

                          <th></th>
                      </tr>
                  </ng-template>
                                  <ng-template pTemplate="body" let-supliersbanck let-i="rowIndex" >
                                <tr>
                                    <td class="text-center">{{ supliersbanck.Codigo_Banco }}</td>
                                    <!-- lo corta el valor  -->
                                    <td class="text-center">{{ supliersbanck.Pais }}</td>
                                    <td class="text-center">{{ supliersbanck.Cuenta}}</td>
                                    <!-- <td>{{ supliersbanck.Fec_Programacion }}</td> -->
                                    <td class="text-center">{{ supliersbanck.Tipo_Cuenta }}</td>

                                    <!-- mejora el decimal con 2   -->
                                    <td class="text-center">{{  supliersbanck.Moneda_SAP }}</td>
                                    <td class="text-center">{{ supliersbanck.Moneda_Banco   }}</td>
                                    <td class="text-center">
                                      <p-button icon="pi pi-pencil" [rounded]="true" (click)="modalBanco(supliersbanck , i)" />


                                    </td>


                                </tr>
                            </ng-template>

                  </p-table>
                </p-tabPanel>
                <!-- 3 tabla  -->
                <p-tabPanel  header="" class="border-white" [closable]="false"  >
                  <p-table [styleClass]="'p-datatable-sm'" [value]="paginatedData" [tableStyle]="{  }">
                    <ng-template pTemplate="header" >
                      <tr >
                          <th style="font-size: 16px;" class="text-center" >Sunat</th>
                          <th style="font-size: 16px;" class="text-center">Emisión</th>
                          <th style="font-size: 16px;" class="text-center">Fec_Pago</th>
                          <th style="font-size: 16px;" class="text-center">Moneda</th>
                          <th style="font-size: 16px;" class="text-right">Total</th>
                          <th style="font-size: 16px;" class="text-right">Detracción</th>
                          <!-- <th style="font-size: 16px;" class="text-center">Redondeo</th> -->
                      </tr>
                  </ng-template>
                                  <ng-template pTemplate="body" let-DeductionsBanck let-i="rowIndex" >
                                <tr>

                                  <td class="text-center">{{DeductionsBanck.Sunat}}</td>
                                  <td class="text-center">{{DeductionsBanck.Emision.split(' ')[0]}}</td>
                                  <td class="text-center">{{DeductionsBanck.Vencimiento.split(' ')[0]}}</td>
                                  <td class="text-center">

                                    {{DeductionsBanck.Moneda}}

                                  </td>
                                  <td class="text-right">{{DeductionsBanck.Total | number  : '1.2-2'}}</td>
                                  <td class="flex justify-content-evenly" class="text-right">{{DeductionsBanck.Detraccion | number : '1.2-2'}}</td>
                                  <!-- <td class="text-right bg-green-200">{{DeductionsBanck.Redondeo
                                    | number : '1.2-3'}}</td>
                                </tr> -->
                            </ng-template>

                  </p-table>
                  <p-paginator [rows]="rows" [totalRecords]="totalRecords" (onPageChange)="Paginator($event)" styleClass="custom-paginator" class="hidden md:block">
                  </p-paginator>

                  <div class="paginator__one flex align-items-center justify-content-center  block md:hidden" >

                    <p-paginator [rows]="rows" [totalRecords]="totalRecords"  [showCurrentPageReport]="true"  (onPageChange)="Paginator($event)"
                        currentPageReportTemplate="" [showPageLinks]="false" [showFirstLastIcon]="false" class="paginator" ></p-paginator>
                </div>

                </p-tabPanel>
                <!-- 4 tabla  -->
                <p-tabPanel  header="" class="border-white" [closable]="false" >
                  <p-table [styleClass]="'p-datatable-sm'" [value]="paginatedData2" [tableStyle]="{ 'min-width': '77rem','text-align':'center' }"
                  >

                    <ng-template pTemplate="header"  >
                      <tr >
                          <th style="font-size: 16px;" class="text-center">Serie_Correlativo</th>
                          <th style="font-size: 16px;" class="text-center">Fec_Emi</th>
                          <th style="font-size: 16px;" class="text-center">Mo_Fac</th>
                          <th style="font-size: 16px;" class="text-right">Total_Fact</th>
                          <th style="font-size: 16px;" class="text-center">Compret</th>
                          <th style="font-size: 16px;" class="text-center">Fecha Retención</th>
                          <th style="font-size: 16px;" class="text-center">Mo_Pag</th>
                          <!-- <th style="font-size: 16px;" class="text-right">Total Pago</th> -->
                          <th style="font-size: 16px;" class="text-right">Retenido</th>
                          <!-- <th style="font-size: 16px;" class="text-center">Tc</th> -->
                          <!-- <th style="font-size: 16px;">Tco</th> -->
                          <th> </th>
                      </tr>
                  </ng-template>
                                  <ng-template pTemplate="body" let-Withholdings let-i="rowIndex" >
                                <tr>
                                    <td class="text-center">{{ Withholdings.SERIE_CORRELATIVO }}</td>
                                    <!-- lo corta el valor desde espacio en blanco muestra el 1 valor -->
                                    <td class="text-center">{{ Withholdings.FEC_EMI_FACT.split(' ')[0]   }}</td>
                                    <td class="text-center">{{ Withholdings.MONEDA_FACT }}</td>

                                    <td class="text-right">{{ Withholdings.TOTAL_FACT | number : '1.2-2'}}</td>

                                    <td class="text-center">
                                      {{Withholdings.COMPRET }}

                                    </td>
                                    <td class="text-center">{{  Withholdings.FECHA_RETENCION.split(' ')[0] }}</td>
                                    <td class="text-right">{{ Withholdings.MONEDA_PAGO   }}</td>
                                    <!-- <td class="text-right">{{ Withholdings.TOTAL_PAGO  | number : '1.2-2' }}</td> -->
                                    <td class="text-right">
                                      {{Withholdings.RETENIDO | number: '1.2-2' }}

                                    </td>
                                    <!-- mejora el decimal    -->
                                    <!-- <td class="text-center">
                                    {{Withholdings.TC| number : '' }}
                                    </td> -->
                                    <!-- <td>
                                      {{Withholdings.TCO }}
                                    </td> -->
                                    <td class="text-center w-7rem">
                                                    <button type="button" pButton pRipple icon="pi pi-file-pdf" class="p-button-success"  pTooltip="pdf" tooltipPosition="bottom" (click)="donwoladPdf(cardCode,Withholdings.COMPRET.split('-')[1])"></button>
                                    </td>


                                </tr>
                            </ng-template>

                  </p-table>


                  <p-paginator [rows]="rows" [totalRecords]="totalRecords2" (onPageChange)="Paginator2($event)" styleClass="custom-paginator" class="hidden md:block">
                  </p-paginator>

                  <div class="paginator__one flex align-items-center justify-content-center  block md:hidden" >

                    <p-paginator [rows]="rows2" [totalRecords]="120"  [showCurrentPageReport]="true"
                        currentPageReportTemplate="" [showPageLinks]="false" [showFirstLastIcon]="false" class="paginator" ></p-paginator>
                </div>

                </p-tabPanel>
                <!-- 5 tabla  -->
                <p-tabPanel  >
                  <p-table [styleClass]="'p-datatable-sm'"  [tableStyle]="{ 'min-width': '30rem','text-align':'center' }
                  "[value]="paginatedData5"  id="myTable"
                  >
                    <ng-template pTemplate="header"  >
                      <tr >
                          <th class="text-center">Serie_Correl</th>
                          <th class="text-center">Fec_Emisión</th>
                          <th class="text-center">Pago_Efectuado</th>
                          <!-- <th>Fecha Programacion</th> -->
                          <th class="text-right">Moneda</th>
                          <th class="text-right">Total_Documento</th>
                          <th class="text-right">Monto_Pagada</th>
                          <th class="text-right">Saldo_Pendiente</th>
                          <!-- <th></th> -->
                      </tr>
                  </ng-template>
                                  <ng-template pTemplate="body" let-supliers>
                                <tr>
                                    <td class="text-center">{{supliers.SERIE_CORREL}}</td>
                                    <!-- lo corta el valor  -->
                                    <td class="text-center">{{ supliers.Fec_Emision.split(' ')[0]  }}</td>
                                    <td class="text-center">{{ supliers.Fec_VCTO.split(' ')[0]}}</td>
                                    <td class="text-center">{{ supliers.Moneda }}</td>

                                    <!-- mejora el decimal con 2   -->
                                    <td class="text-right"> {{  supliers.Total_Documento | number:   '1.2-2' }}</td>
                                    <td class="text-right">{{ supliers.Monto_pagado  | number:   '1.2' }}</td>
                                    <td class="flex justify-content-end">
                                      {{ supliers.Saldo_pendiente | number:'1.3-3' }}
                                    </td>

                                </tr>
                            </ng-template>
                  </p-table>
                  <p-paginator [rows]="rows5" [totalRecords]="totalRecords5" (onPageChange)="PaginatorPay($event)" styleClass="custom-paginator"
                  class="hidden md:block" >
                  </p-paginator>

                  <div class="paginator__one flex align-items-center justify-content-center  block md:hidden" >

                    <p-paginator [rows]="rows2" [totalRecords]="120"  [showCurrentPageReport]="true"
                        currentPageReportTemplate="" [showPageLinks]="false" [showFirstLastIcon]="false" class="paginator" ></p-paginator>
                </div>

                </p-tabPanel>


        </p-tabView>




  </div>





      </p-card>
    </div>
  </div>


</div>

</div>



<!-- componente spinner  -->
<ngx-spinner
bdColor="#fff"
size="medium"
color="#002443"
type="ball-fall"
[fullScreen] = "true"
>
<div class="mb-8 md:mb-8" >
  <img src="assets/images/LogoMp2.png" width='100' class='animate__animated animate__pulse animate__slow animate__infinite' alt="">
</div>
<br><br><br><br><br><br><br>
</ngx-spinner>









<!-- MODAL ACTUALIZAR CONTRASEÑA -->

<div class="contenedor2">

  <p-dialog header="Actualizar Contraseña" [(visible)]="modalBolean" [style]="{ width: '25rem' , height: '350px' }"  [draggable]="false" [resizable]="false"
    >

    <form [formGroup]="loginForm" (ngSubmit)="restablecer()">

      <div class="flex align-items-center gap-3 mb-3 mt-5 p-2">
          <label for="username" class="font-semibold w-6rem">Usuario</label>
          <input pInputText id="username" class="flex-auto border-1 h-2rem border-round w-6rem"   formControlName="usuario"  [readonly]="true"
          [(ngModel)]="cardCode"  type="text" />

      </div>


      <div class="flex align-items-center gap-3 mb-5 p-2">
          <label for="email" class="font-semibold w-6rem">Contraseña</label>
          <input pInputText id="email" class="flex-auto border-1 h-2rem border-round w-6rem " autocomplete="off" formControlName="password" />
      </div>


      <div class="flex justify-content-evenly gap-2">
          <p-button label="Actualizar" type="submit" severity="success" />
      </div>

    </form>
  </p-dialog>
</div>









<!-- MODAL REGISTRAR BANCO  -->
<p-dialog header="Registrar Banco" [(visible)]="modalRegistrar" [style]="{ width: '28rem' , height: '550px' }"  [draggable]="false" [resizable]="false"  (onHide)="cancel()">

  <form [formGroup]="registrarBanco" (ngSubmit)="registrarBank()">

<div class="flex align-items-center gap-2 mb-5 mt-5 p-2">
    <label for="bancos" class="font-semibold w-6rem  text-center">Bancos </label>
    <div class="custom-select-container relative ">
      <select name="bancos" class="custom-select border-round w-full" [(ngModel)]="bankCode" style="height: 30px;" formControlName="bancos" (change)="changeTypeCount()">
          <option value="" *ngIf="divisasBoolean">Seleccione el banco </option>
          @for (user of listaBancos; track user) {
              <option [value]="user.value">{{ user.name }} </option>
          }
      </select>
  </div>
</div>
<div class="flex align-items-center gap-3 mb-5 p-2 ">
  <label for="numCuenta" class="font-semibold w-8rem text-center">Numero de Cuenta</label>
  <input pInputText id="numCuenta" class="flex-auto border-1  border-round"
  [(ngModel)]="accountNo"  type="text" style="width: 100%; height: 30px;"  formControlName="numCuenta" />

</div>

<div class="flex align-items-center gap-3 mb-5 p-2  ">
    <label for="divisas" class="font-semibold w-8rem text-center">
      Divisas
    </label>
    <select name="divisas" class="custom-select w-full border-round" [(ngModel)]="divisas" style="height: 30px;" formControlName="divisas" >
      <option *ngIf="divisasBoolean">Seleccione las divisas </option>
      @for (user of currency; track user) {
          <option [value]="user.value">{{ user.name }} </option>
      }
  </select>
</div>

<div class="flex align-items-center gap-3 mb-5 p-2">
  <label for="tipoCuentas" class="font-semibold w-8rem text-center">
    Tipos de Cuentas
  </label>
  <select name="tipoCuentas" class="custom-select border-round" [(ngModel)]="bankAccountType" style="width: 100%; height: 30px;" formControlName="tipoCuentas">
    <option value="" *ngIf="tiposCuentas">Seleccione tipos de cuentas </option>
    @if(accountType2){
      @for (user of accountType2; track user) {
          <option [value]="user.value">{{ user.name }} </option>
      }
    }
    @for (user of accountType; track user) {
      <option [value]="user.value">{{ user.name }} </option>
  }

</select>
</div>

<div class="flex justify-content-evenly gap-2">
    <p-button label="Registrar" type="submit" severity="primary"   />
</div>

</form>
</p-dialog>









<!-- modal actualizar banco -->
   <p-dialog header="Actualizar Bancos" [(visible)]="modalActualizar" [style]="{ width: '28rem' , height: '550px'  }"  [draggable]="false" [resizable]="false" (onHide)="cancel()" >
    <form [formGroup]="actualizarBanco" (ngSubmit)="ActualizarBank()">
    <div class="flex align-items-center  mb-5 mt-5 p-2 ">
      <label for="username" class="font-semibold w-8rem  text-center">Bancos</label>
      <div class="custom-select-container relative ">
        <select name="para" class="custom-select border-round" [(ngModel)]="bankCode2" style="width: 100%; height: 30px;" formControlName="bancos" (change)="changeTypeCount2()">
            <option value="">Seleccione el banco </option>
            @for (user of listaBancos; track user) {
                <option [value]="user.value">{{ user.name }} </option>
            }
        </select>
    </div>
  </div>
  <div class="flex align-items-center gap-3 mb-5 p-2 ">
    <label for="email" class="font-semibold w-8rem text-center">Numero de Cuenta</label>
    <input pInputText id="username" class="flex-auto border-1  border-round"
    [(ngModel)]="accountNo2"  type="text" style="width: 100%; height: 30px;"  formControlName="accountNo" />
  </div>
  <div class="flex align-items-center gap-3 mb-5 p-2  ">
      <label for="email" class="font-semibold w-8rem text-center">
        Divisas
      </label>
      <select name="para" class="custom-select w-full border-round" [(ngModel)]="userCurrBank2" style="width: 100%; height: 30px;" formControlName="divisas" >
        <option value="">Seleccione las divisas </option>
        @for (user of currency; track user) {
            <option [value]="user.value">{{ user.name }} </option>
        }
    </select>
  </div>
  <div class="flex align-items-center gap-3 mb-5 p-2">
    <label for="email" class="font-semibold w-8rem text-center">
      Tipos de Cuentas
    </label>
    <select name="para" class="custom-select border-round" [(ngModel)]="bankAccountType2" style="width: 100%; height: 30px;" formControlName="tipoCuentas">
      <option value="">Seleccione tipos de cuentas </option>
      @for (user of accountType; track user) {
          <option [value]="user.value">{{ user.name }} </option>
      }
  </select>
  </div>
  <div class="flex justify-content-evenly gap-2">
      <p-button label="Actualizar" type="submit" severity="primary"   />
  </div>

  </form>

  </p-dialog>




<p-toast></p-toast>
